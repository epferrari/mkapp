# mkapp Example Project

### Overview

In this tutorial we're building a simple mkapp project that uses a color picker and some input fields to change the look and feel of our application dynamically. The tutorial is broken into two sections. The first covers the mkapp build system, in the second we'll build the actual app. By the end of the tutorial, you should have a fairly good understanding of mkapp components, themes, the Condux websocket API, and building your own components into mkapp. Clone the code from the [demo project repo](https://github.com/epferrari/mkapp-demo.git) and follow along by checking out tags as we progress.

Part 1: Mkapp Basics

- [Setup](./1.1-setup.md#content)
- [Boilerplate](./1.2-boilerplate.md#content)
- [Condux](./1.3-condux-intro.md#content)
- [App State](./1.4-app-state.md#content)
- [Mkapp Components](./1.5-components.md#content)
- [Building on Mkapp Components](./1.6-compositing.md#content)
- [Hybrid Components](./1.7-hybrid-components.md#content)
- [Mkapp Theme](./1.8-mkapp-theme.md#content)
- [Configuration](./1.9-mkapp-config/md#content)

Part 2: Building the App

- [Adding the Color Picker](./2.1-color-picker.md#content)
- [Setting Colors 1](./2.2-setting-colors-1.md#content)
- [Setting Colors 2](./2.3-setting-colors-2.md#content)
- [Setting Colors 3](./2.4-setting-colors-3.md#content)
- [Setting Colors 4](./2.5-setting-colors-4.md#content)
- [Advanced Theming 1](./2.6-advanced-theming-1.md#content)
- [Advanced Theming 2](./2.7-advanced-theming-2.md#content)

# 

<a name="content"></a>
## 1.2 The Boilerplate - What's Included

So you've got mkapp installed and configured, it's time to spin up the development environment. But before you do, let's browse through the `src` directory and see what's included in the project by default. **Mkapp makes some assumptions about your app's architecture**, namely that it will have 3 javascript-centric components: public client apps that consume and share content, an admin app that curates content for the client apps, and the business logic on your Node server. The directory structure reflects that, although mkapp does allow for omission of any of these parts via its [configuration file](#mkapp-config).

Mkapp is built around the idea that your app should allow reactive, real-time communication between components in its architecture.  It relies on websockets for this, using a uni-directional websocket implementation called Condux [see: Introduction to Condux](#condux). The next chapter provides a deep dive into using Condux, so for now just take note of its location in the directory structure.

In addition to Condux, you'll see directories for `admin`, `public`, and `server`. As mentioned, mkapp assumes you'll have a public-facing app, an administrator panel app to manage users and content in the public app, and a Node app on the server to take care of serving files, logging to a database, and synchronizing state between the public apps and the admin dashboard. If you aren't going to be building an admin app, just set `CREATE_ADMIN_APP` to false in your mkapp_config.json, and mkapp will ignore that part of the build.

#### `src/admin`

#### `src/assets`

Fonts and images you want to make available for both the public and admin apps.

- in .less files, refer to your fonts with `url(../fonts/your-font-name)`.
- in .jsx/.js files, refer to your fonts with `url(assets/fonts/your-font-name)`
- in .less files, refer to images with `url(../img/your-image-name)`
- in .jsx/.js files, refer to images with `src='assets/img/your-image-name' or url(assets/img/your-image-name)`

#### `src/public`

This is the client or public facing side of the architecture. It has 4 simple views, a navigation menu, and a single state store to that holds application state.

###### `/assets` - Fonts and images local to the public app

###### `js/actions/index.js` - Reflux actions that your components call and the state store listens to.

###### `js/components` - React Components local to the public app

- `AppView.jsx` a composite wrapper for mkapp's `HybridView` component that calls some actions, interacting with the app's state when it mounts. See also [compositing](#compositing-components) and [hybrid components](#hybrid-components)

###### `js/datastores/` - \*flux datastore for app state handling

- `AppState.js` A simple state store to hold local app state. The datastore is built with the popular flux-type library [reflux](https://www.npmjs.com/package/reflux).

###### `js/views` - fullscreen views, they're used as the `component` prop in React Router's `<Route>` components, and are composited using the `AppView` in **js/components**

###### `js/app.jsx` - the application's main file

###### `js/index.js` - Entry point, loads ES6 polyfill and checks environment before loading the rest of the app

###### `/less` - The application's less files (.less files)

- `/main.less` compiled to main.css. Import other less files here. While you can write less code here as well, best practice is to import it from another file in `/lib`
- `/lib` supplementary less files used globally in your application, import into `main.less`
- `/components` less files that style specific components should go here, import into `main.less` as needed
- `/react-css-transition-groups` named animation group stylesheets, import into `main.less` as needed


# 

<a href="#top" style="display:inline-block; padding:0 8px; text-align:left; float:left;">Top</a><a href="./1.1-setup.md#content" style="display:inline-block; padding:0 8px; text-align:left; float:left;" > << Previous </a><a href="./1.3-condux-intro.md#content" style="display:inline-block; padding:0 8px; text-align:right; float:left;" > Next >> </a>

